[build]
builder = "NIXPACKS"
# Build from root - generates Prisma client and builds WebSocket server
buildCommand = "npm install && cd packages/db && npm run db:generate && cd ../../apps/ws && npm run build"

[deploy]
startCommand = "cd apps/ws && npm run start"
healthcheckPath = "/"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

